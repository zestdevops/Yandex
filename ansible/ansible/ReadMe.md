В данной директории располагается ansible-playbook развертывания приложения "Сосичной" на виртуальной машине в облаке YandexCloud
Хосты перечислены в директории inventory в файле *.yaml.
Конфигурация ansible находится в файле ansible.cfg, в которой задан таймаут 30 секунд на подключения по ssh и отключена возможность работы по суперпользователем.
Все реализовано через две роли:
backend
frontend
Общие переменные для работы плэйбука находятся в group_vars/all.yml
Роль backend развертывает backend часть приложения, которая написана на Java, артифакт скачивается с nexus репозитория. Все переменные данной роли находятся в group_vars в файле backend.yml.
Задачи (tasks) описаны в roles/backend/tasks/main.yml. Туда входит создание сервисного пользователя backend, установка open-jdk-16, создание рабочей директории,
создание systemd unit для работы приложения, запуск юнита. Шаблон юнита располагается в roles\backend\templates\backend.service.j2

Роль frontend развертывает frontend часть сервиса, которая написана на JavaScript. Запускается посредством nginx. Артифакт скачивается с nexus репозитория. Все переменные данной роли находятся в group_vars в файле frontend.yml.
Задачи (tasks) описаны в roles/frontend/tasks/main.yml. Туда входит создание сервисного пользователя www-data, установка nodejs и nginx. создание рабочей директории,
создание systemd unit для работы приложения, запуск юнита. Шаблон юнита располагается в roles\frontend\templates\frontend.service.j2

